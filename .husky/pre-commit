#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Run lint-staged first (if you have it)
pnpm lint-staged

# Check for dependency mismatches
echo ""
echo "ğŸ” Checking for dependency version mismatches..."
pnpm deps:mismatch

if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Dependency version mismatches found!"
  echo "Run 'pnpm deps:fix' to fix them, then try committing again."
  exit 1
fi

echo "âœ… No dependency mismatches"
